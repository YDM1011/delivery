<div class="contain">
	<div class="contain__group"  *ngIf="addShow">
		<div class="contain__group-header">
			<div class="title">
				Создать Продукт
			</div>
		</div>
		<app-add-product *ngIf="products.length > 0" (outputNew)="newProduct($event)" (cancelAdd)="cancelAdd($event)"></app-add-product>
		<div *ngIf="products.length === 0 && categorys && categorys.length === 0" class="nocategory">
			У вас нету категорий, создайте категорию тогда вы сможете создать продукт
		</div>
	</div>
	<div class="contain__group"  *ngIf="editShow">
		<div class="contain__group-header">
			<div class="title">
				Редактировать продукт
			</div>
		</div>
		<form (keyup)="formCheck()" (submit)="confirmEditCategoryCrud($event)" class="edit-section" *ngIf="editShow">
			<mat-form-field class="example-full-width">
				<input matInput type="text" placeholder="Название продукта" name="name" [(ngModel)]="editObj.name" autocomplete="off">
			</mat-form-field>
			<mat-form-field class="example-full-width">
				<input matInput type="text" placeholder="Описание продукта" name="des" [(ngModel)]="editObj.des" autocomplete="off">
			</mat-form-field>
			<mat-form-field class="example-full-width">
				<input matInput type="text" placeholder="Цена" name="price" [(ngModel)]="editObj.price" autocomplete="off">
			</mat-form-field>
			<div  *ngIf="brands && brands.length > 0">
				brands
				<select #b [(ngModel)]="mainChooseBrand" name="select" (change)="changeSelect(b.value)">
					<option *ngFor="let item of brands" [value]="item._id">{{item.name}}</option>
				</select>
			</div>
			<div class="check">
				<mat-checkbox [(ngModel)]="showSale" name="saleChack">Включить скидку</mat-checkbox>
			</div>
			<mat-form-field class="example-full-width" *ngIf="showSale">
				<input matInput type="text" placeholder="Цена со скидкой" name="priceSale" [(ngModel)]="editObj.discount" autocomplete="off">
			</mat-form-field>
			<div class="group-buttons">
				<div class="left">
					<app-upload (onFs)="onFsEdit($event)" *ngIf="editObj && editObj.img === ''"></app-upload>
					<div class="mat-chip-file" *ngIf="editObj && editObj.img !== ''">
						<div class="content">{{editObj.img.split("--")[1]}}</div>
						<div class="remove-mat-chip" (click)="editObj.img = ''; formCheck()"></div>
					</div>
				</div>
				<div class="right">
					<button class="main-button" type="reset" (click)="cancelEdit()">Отмена</button>
					<button class="main-button-color" type="submit"  *ngIf="isBlok">Сохранить</button>
				</div>
			</div>
		</form>
	</div>
	<div class="contain__group">
		<div class="contain__group-header">
			<div class="title">
				Все продукты
			</div>
			<button class="button-add" (click)="openAdd()">
				<span class="content">Создать продукт</span>
			</button>
		</div>
		<div class="main-section">
			<div class="loading" *ngIf="!loading">
				Loading ...
			</div>
			<ng-container *ngIf="loading">
				<div class="table" *ngIf="products && products.length > 0">
					<div *ngFor="let item of products; let index = index" style="display: flex; align-items: center">
						{{item.name}}
						<span class="edit-btn" (click)="edit(index)"></span>
						<span class="trash-btn" (click)="delete(index)"></span>
					</div>
				</div>
				<div class="empty-section" *ngIf="!products || products.length === 0">
					<p>
						У вас нет созданых продуктов
					</p>
				</div>
			</ng-container>
		</div>
	</div>
</div>
<!--<div class="top-table-date">-->
<!--	{{element.date | date: 'dd MMMM, yyyy'  : null : defLang}}-->
<!--</div>-->
<!--<div class="bottom-table-date">-->
<!--	{{element.date | date: 'h:mm a'  : null : defLang}}-->
<!--</div>-->
