<div class="other-header">
  <app-back-btn></app-back-btn>
  <h2>Уведомления</h2>
  <app-basket-item></app-basket-item>
</div>
<ng-container *ngIf="!loading">
    <app-loading></app-loading>
</ng-container>
<div class="other-pages">
  <div class="popular-section">
    <div class="popular-section-button fixed">
      <button [class.active]="toggleMain" (click)="toggleMain = true;init();loading = false">
        {{action_t[language]}}
      </button>
      <button [class.active]="!toggleMain" (click)="toggleMain = false;getCompany();loading=false">
          {{rating_t[language]}}
      </button>
    </div>
    <div class="popular-section-box" *ngIf="toggleMain">
        <ng-container *ngIf="loading">
            <cdk-virtual-scroll-viewport itemSize="300" class="viewport" appScrollUpdateAction (output)="getOutput($event)" *ngIf="action && action.length > 0">
                <app-action-item  *cdkVirtualFor="let item of action" [obj]="item"></app-action-item>
            </cdk-virtual-scroll-viewport>
            <div class="empty" *ngIf="action && action.length === 0">
                У вас нет персональных акций
            </div>
        </ng-container>
    </div>
    <div class="popular-section-box" *ngIf="!toggleMain">
        <div class="viewport">
            <div class="history-raiting" *ngIf="loading">
                <app-rating-service-item (click)="showRaiting = true;chooseCompany = item;" [data]="item" *ngFor="let item of company"></app-rating-service-item>
                <ng-container>
                    <h3>История отзывов</h3>
                    <div class="empty-block">
                        У вас нет историй оценок
                    </div>
<!--                    <ng-container>-->
<!--                        <app-rating-service-history-item></app-rating-service-history-item>-->
<!--                    </ng-container>-->
                </ng-container>
            </div>
        </div>
    </div>
  </div>
</div>
<app-raiting *ngIf="showRaiting" [data]="chooseCompany" (closeRaiting)="closeRaiting($event)"></app-raiting>
